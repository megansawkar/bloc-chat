<script type="text/javascript">
$(document).ready(function() {
    $('dropdown-toggle').dropdown()
});
</script>

<nav class="navbar navbar-inverse">
  <div class="container-fluid">
		<div class="navbar-brand">Bloc Chat</div>
    
		<button class="navbar-toggle" data-toggle="collapse" data-target=".navHeaderCollapse">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		</button>
		
		<div class="collapse navbar-collapse navHeaderCollapse">
      <ul class="nav navbar-nav navbar-right">
					<button class="btn btn-default navbar-btn" type="button" ng-click="home.addRoom(roomName)">Add a Room</button>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">Rooms <b class="caret"></b></a>
						
						<ul class="dropdown-menu">
						<ul ng-Repeat="room in home.rooms">
							<li class="room-name-title"><a href="#" ng-click="home.setCurrentRoom(room)">{{ room.name }}</a></li>
						</ul>
						</ul>
						
<!--
						<ul class="dropdown-menu" ng-Repeat="room in home.rooms">
						<li class="room-name-title"><a href="#" ng-click="home.setCurrentRoom(room)">{{ room.name }}</a></li>
						</ul>
-->
					</li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

<!--
<nav class="navbar navbar-default">
	<div class="navbar-header">
	<span class="sr-only">Bloc Chat</span>
	</div>

	<div class="room-title">
		<h1>Rooms</h1>
	</div>
	<button class="btn btn-default navbar-btn" type="button" ng-click="home.addRoom(roomName)">Add a Room</button>
	<div class="room-names">
		<ul class="nav nav-pills nav-stacked" ng-Repeat="room in home.rooms">
				<li role="presentation" class="room-name-title"><a href="#" ng-click="home.setCurrentRoom(room)"><strong>{{ room.name }}</strong></a></li>
		</ul>
	</div>
</nav>
-->

<div class="chat-area">
		<h3 class="current-room">{{ home.currentRoom.name }}</h3>
		<div class="messages" ng-repeat="message in home.messages">
				<div class="username">{{ message.username }}</div>
				<div class="usermessage">{{ message.content }}</div>
				<div class="usertimestamp" am-time-ago="{{ message.sentAt }}"></div>
		</div>
</div>

<form class="message-form" ng-show="home.showMessage">
		<div class="message-body" id="message-body">
						<b style="color: white;">Add a message.</b><br>
						<input id="message-input" type="textarea" name="input" ng-model="content"><br>
		</div>
		<div class="message-footer">
				<input type="submit" value="Submit" class="new-message-button" type="button" ng-click="home.createNewMessage(content)" />	
		</div>
</form>